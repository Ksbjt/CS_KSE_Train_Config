; ZE DEADCORE K3 STRIPPER
; Added [Champion D], [Hell D] and [Knightmare D]

; Since _k disabled [Practice Mode], it needs to enable trigger_teleport
modify:
{
    match:
    {
        "targetname" "radiation_ex_startrelay1"
        "hammerid" "3853321"
    }
    delete:
    {
        "OnUser1" "!selfTrigger01"
    }
    insert:
    {
        "OnUser1" "s_afkt1,Enable,,0.1,1"
        "OnUser1" "s_afkt1,Disable,,0.9,1"
        "OnUser1" "!self,Trigger,,1,1"
    }
}

; Add more CCs (Thanks for Koen to pack the material into the map :3)
add:
{
    "origin" "-15000 -14888 -16184"
    "targetname" "cc_knightmare"
    "classname" "color_correction"
    "filename" "materials/correction/cc_knightmare.raw"
    "StartDisabled" "1"
    "fadeOutDuration" "1"
    "fadeInDuration" "10"
    "minfalloff" "-1"
    "maxfalloff" "-1"
    "maxweight" "1.0"
}

; Winners can select next stage when they beat stage D (enable it from [Insane D])
modify:
{
    match:
    {
        "targetname" "d_win_detecttrigger"
        "hammerid" "3098584"
    }
    insert:
    {
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_off:Kill::3:1,0,1"
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_*:Lock::3:1,0,1"

        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d:Unlock::3.1:1,0,1"
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d:PressOut::3.2:1,0,1"

        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_champion:Unlock::3.1:1,0,1"
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_champion:PressOut::3.2:1,0,1"

        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_hell:Unlock::3.1:1,0,1"
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_hell:PressOut::3.2:1,0,1"

        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_knightmare:Unlock::3.1:1,0,1"
        "OnUser2" "!self,AddOutput,OnStartTouch admin_button_ex_d_knightmare:PressOut::3.2:1,0,1"

        "OnUser2" "!self,Enable,,0,-1"
    }
}

; Modify escape relay to add extra stages
modify:
{
    match:
    {
        "targetname" "escape_common_relay"
        "hammerid" "4309560"
    }
    delete:
    {
        "OnTrigger" "d_win_detecttriggerEnable120-1"
        "OnTrigger" "d_nukeEnable123-1"
    }
}

modify:
{
    match:
    {
        "targetname" "escape_relay_normal"
        "hammerid" "3944863"
    }
    insert:
    {
        "OnTrigger" "d_win_detecttrigger,Enable,,120,-1"
        "OnTrigger" "d_nuke,Enable,,123,-1"
    }
}

modify:
{
    match:
    {
        "targetname" "escape_relay_prankd"
        "hammerid" "4309600"
    }
    insert:
    {
        "OnTrigger" "fade2,Kill,,0,-1"
        "OnTrigger" "d_win_detecttrigger,FireUser2,,120,-1"
    }
}

modify:
{
    match:
    {
        "targetname" "escape_relay_ex"
        "hammerid" "4309598"
    }
    delete:
    {
        ; Easter egg should be enabled in only [Insane D]
        "OnTrigger" "music_d_ex_escape_casePickRandomShuffle1-1"
    }
    insert:
    {
        "OnTrigger" "fade2,Kill,,0,-1"
        "OnTrigger" "d_win_detecttrigger,FireUser2,,120,-1"

        ; Winning message for [Champion D] and [Hell D]
        "OnUser2" "d_win_detecttrigger,AddOutput,OnStartTouch server:Command:say *** 恭喜你 - 你通关了 Champion D ***:3:1,0,-1"
        "OnUser3" "d_win_detecttrigger,AddOutput,OnStartTouch server:Command:say *** 恭喜你 - 你通关了 Hell D ***:3:1,0,-1"
    }
}

modify:
{
    match:
    {
        "targetname" "stage_d_ex_relay"
        "hammerid" "3610663"
    }
    insert:
    {
        "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_case:PickRandomShuffle::1:-1,1,1"
    }
}

; Modify level and button systems to add extra stages
modify:
{
    match:
    {
        "targetname" "level_case"
        "hammerid" "3610620"
    }
    delete:
    {
        "OnCase10" "!selfInValue701"
        "OnCase11" "!selfInValue701"
        "OnCase12" "!selfInValue701"
    }
    insert:
    {
        "OnCase10" "level_stock,FireUser1,,0,1"
        "OnCase10" "level_stock,AddOutput,OnUser1 level_counter:SetValue:9:0:1,0.02,1"
        "OnCase10" "stage_d_champion_relay,Trigger,,2,1"

        "OnCase11" "level_stock,FireUser1,,0,1"
        "OnCase11" "level_stock,AddOutput,OnUser1 level_counter:SetValue:10:0:1,0.02,1"
        "OnCase11" "stage_d_hell_relay,Trigger,,2,1"

        "OnCase12" "level_stock,FireUser1,,0,1"
        "OnCase12" "level_stock,AddOutput,OnUser1 level_counter:SetValue:11:0:1,0.02,1"
        "OnCase12" "stage_d_knightmare_relay,Trigger,,2,1"
	
		"Case13" 	"12"
        "OnCase13" "level_stock,FireUser1,,0,1"
        "OnCase13" "level_stock,AddOutput,OnUser1 level_counter:SetValue:12:0:1,0.02,1"
        "OnCase13" "stage_d_0.7_relay,Trigger,,2,1"
    }
}

modify:
{
    match:
    {
        "targetname" "admin_button_reset"
        "hammerid" "2837443"
    }
    insert:
    {
        "OnPressed" "admin_button_ex_d_champion,Unlock,,0,-1"
        "OnPressed" "admin_button_ex_d_champion,PressOut,,0.1,-1"
        "OnPressed" "admin_button_ex_d_hell,Unlock,,0,-1"
        "OnPressed" "admin_button_ex_d_hell,PressOut,,0.1,-1"
        "OnPressed" "admin_button_ex_d_knightmare,Unlock,,0,-1"
        "OnPressed" "admin_button_ex_d_knightmare,PressOut,,0.1,-1"
        "OnPressed" "admin_button_ex_d_0.7,Unlock,,0,-1"
        "OnPressed" "admin_button_ex_d_0.7,PressOut,,0.1,-1"
    }
}

modify:
{
    match:
    {
        "targetname" "admin_button_ex_d"
        "hammerid" "3471212"
    }
    insert:
    {
        "OnIn" "admin_button_ex_d_champion,Lock,,0,-1"
        "OnIn" "admin_button_ex_d_hell,Lock,,0,-1"
        "OnIn" "admin_button_ex_d_knightmare,Lock,,0,-1"
    }
}

modify:
{
    match:
    {
        "targetname" "admin_button_ex_d_off"
        "hammerid" "3659293"
    }
    insert:
    {
        "OnIn" "admin_button_ex_d_champion,Unlock,,0,-1"
        "OnIn" "admin_button_ex_d_champion,PressOut,,0.1,-1"
        "OnIn" "admin_button_ex_d_hell,Unlock,,0,-1"
        "OnIn" "admin_button_ex_d_hell,PressOut,,0.1,-1"
        "OnIn" "admin_button_ex_d_knightmare,Unlock,,0,-1"
        "OnIn" "admin_button_ex_d_knightmare,PressOut,,0.1,-1"
    }
}

; [Champion D]
add:
{
    "model" "*34"
    "origin" "-14992 -14632 -16156"
    "targetname" "admin_button_ex_d_champion"
    "classname" "func_button"
    "spawnflags" "3072"
    "speed" "20"
    "movedir" "90 0 0"

    "OnIn" "server,Command,say *** 管理员开启了 Champion D ***,0,-1"
    "OnIn" "!self,Lock,,0,-1"
    "OnIn" "admin_button_ex_d,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_hell,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_knightmare,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_off,Unlock,,0,-1"
    "OnIn" "admin_button_ex_d_off,PressOut,,0.1,-1"
    "OnIn" "level_stock,AddOutput,OnUser1 level_counter:SetValue:9:0.06:1,0.02,-1"
}

add:
{
    "origin" "-14616 -14904 -16184"
    "targetname" "stage_d_champion_relay"
    "classname" "logic_relay"

    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_ex,FireUser1,,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_inst:PlaySound::1:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:1.5:51.01:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger !self:FireUser2::119.98:-1,1,1"
    "OnTrigger" "server,Command,say *** Champion D 已启动 ***,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - Champion D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 255 0 0,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 255 0 0,0,-1"
    "OnTrigger" "stage_text,FireUser1,,5.01,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
}

; [Hell D]
add:
{
    "model" "*19"
    "origin" "-14928 -14632 -16156"
    "targetname" "admin_button_ex_d_hell"
    "classname" "func_button"
    "spawnflags" "3072"
    "speed" "20"
    "movedir" "90 0 0"

    "OnIn" "server,Command,say *** 管理员开启了 Hell D ***,0,-1"
    "OnIn" "!self,Lock,,0,-1"
    "OnIn" "admin_button_ex_d,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_champion,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_knightmare,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_off,Unlock,,0,-1"
    "OnIn" "admin_button_ex_d_off,PressOut,,0.1,-1"
    "OnIn" "level_stock,AddOutput,OnUser1 level_counter:SetValue:10:0.06:1,0.02,-1"
}

add:
{
    "origin" "-14616 -14904 -16184"
    "targetname" "stage_d_hell_relay"
    "classname" "logic_relay"

    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "music_d_ex_escape,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_ex,FireUser1,,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_vocal:PlaySound::1:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:1.2:51.01:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_finallaser_case1:PickRandom::110.7:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger !self:FireUser3::119.98:-1,1,1"
    "OnTrigger" "server,Command,say *** Hell D 已启动 ***,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - Hell D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 255 0 0,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 255 0 0,0,-1"
    "OnTrigger" "stage_text,FireUser1,,5.01,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
}

; [Knightmare D]
add:
{
    "model" "*18"
    "origin" "-14864 -14632 -16156"
    "targetname" "admin_button_ex_d_knightmare"
    "classname" "func_button"
    "spawnflags" "3072"
    "speed" "20"
    "movedir" "90 0 0"

    "OnIn" "server,Command,say *** 管理员开启了 Knightmare D ***,0,-1"
    "OnIn" "!self,Lock,,0,-1"
    "OnIn" "admin_button_ex_d,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_champion,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_hell,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_off,Unlock,,0,-1"
    "OnIn" "admin_button_ex_d_off,PressOut,,0.1,-1"
    "OnIn" "level_stock,AddOutput,OnUser1 level_counter:SetValue:11:0.06:1,0.02,-1"
}

add:
{
    "origin" "-14616 -14904 -16184"
    "targetname" "stage_d_knightmare_relay"
    "classname" "logic_relay"

    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "human,AddOutput,OnPass !activator:AddOutput:health 150:0.01:-1,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "music_d_ex_escape,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_inst:PlaySound::1:-1,1,1"
    "OnTrigger" "radiation_ex_startrelay1,AddOutput,OnTrigger cc_red:Disable::0.01:1,1,1"
    "OnTrigger" "radiation_ex_startrelay1,AddOutput,OnTrigger invert:Disable::12.01:1,1,1"
    "OnTrigger" "radiation_ex_startrelay1,AddOutput,OnTrigger cc_knightmare:Enable::12:1,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_knightmare,FireUser1,,1,1"
    "OnTrigger" "server,Command,say *** Knightmare D 已启动 ***,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - Knightmare D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 0 0 255,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 0 0 255,0,-1"
    "OnTrigger" "stage_text,FireUser1,,5.01,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
}

add:
{
    "origin" "536 4576 168"
    "targetname" "escape_relay_knightmare"
    "classname" "logic_relay"
    "StartDisabled" "1"

    "OnTrigger" "cc_knightmare,Disable,,17,-1"
    "OnTrigger" "skybox_grid_spawnrelay,Trigger,,18,-1"
    "OnTrigger" "escape_relay_ex,CancelPending,,50,-1"
    "OnTrigger" "cc_red,AddOutput,fadeInDuration 2,50,-1"
    "OnTrigger" "invert,Disable,,50.7,-1"
    "OnTrigger" "cc_changetimer1,Enable,,52,-1"
    "OnTrigger" "escape_laser_timer1,RefireTime,2.3,51,-1"
    "OnTrigger" "escape_laser_timer1,Enable,,51.5,-1"
    "OnTrigger" "knightmare_dodge_spawntimer1,Enable,,55,-1"
    "OnTrigger" "knightmare_dodge_spawntimer1,Disable,,91.1,-1"
    "OnTrigger" "escape_ex_press_relay,Trigger,,92,-1"
    "OnTrigger" "cc_red,Enable,,98.5,-1"
    "OnTrigger" "cc_changetimer1,Disable,,98.5,-1"
    "OnTrigger" "cc_red,Disable,,108.75,-1"
    "OnTrigger" "knightmare_finalwall_spawnmove*,Open,,101,-1"
    "OnTrigger" "knightmare_finalwall_timer*,Enable,,108.1,-1"
    "OnTrigger" "escape_finallaser_case1,PickRandom,,108,-1"
    "OnTrigger" "escape_finallaser_case1,PickRandom,,109.2,-1"
    "OnTrigger" "escape_finallaser_case1,PickRandom,,110.4,-1"
    "OnTrigger" "escape_finallaser_case1,PickRandom,,111.6,-1"
    "OnTrigger" "escape_finallaser_case1,PickRandom,,112.8,-1"
    "OnTrigger" "knightmare_finalwall_timer*,Disable,,113.6,-1"
    "OnTrigger" "escape_ex_beam_lastcase1,PickRandom,,113,-1"
    "OnTrigger" "d_win_detecttrigger,AddOutput,OnStartTouch server:Command:say *** 恭喜你 - 通关了 Knightmare D ***:3:1,122.98,-1"
    "OnTrigger" "d_win_detecttrigger,FireUser2,,123,-1"

    "OnUser1" "escape_relay*,Disable,,0,-1"
    "OnUser1" "escape_relay_ex,Enable,,0.02,-1"
    "OnUser1" "!self,Enable,,0.02,-1"
}

; Knightmare D walls
add:
{
    "model" "*68"
    "origin" "-13084 -13392 -15345"
    "targetname" "knightmare_dodge_block_human_hurt1"
    "classname" "trigger_hurt"
    "StartDisabled" "1"
    "spawnflags" "4097"
    "parentname" "c_dodge_block_move2"
    "filtername" "human"
    "damage" "20"
    "damagecap" "20"
}

add:
{
    "model" "*68"
    "origin" "-13084 -13392 -15345"
    "targetname" "knightmare_dodge_block_zombie_hurt1"
    "classname" "trigger_hurt"
    "StartDisabled" "1"
    "spawnflags" "4097"
    "parentname" "c_dodge_block_move2"
    "filtername" "zombie"
    "damage" "300"
    "damagecap" "300"

    ; No spamming modifyspeed since lasers and beams can make zombies slower
    "OnStartTouch" "speed,ModifySpeed,0.8,0,-1"
    "OnStartTouch" "speed,ModifySpeed,1,4,-1"
}

modify:
{
    match:
    {
        "targetname" "c_dodge_block_temp1"
        "hammerid" "1475944"
    }
    insert:
    {
        "Template07" "knightmare_dodge_block_human_hurt1"
        "Template08" "knightmare_dodge_block_zombie_hurt1"
    }
}

add:
{
    "targetname" "knightmare_dodge_spawntimer1"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "RefireTime" "2"

    "OnTimer" "knightmare_dodge_spawncase1,PickRandom,,0,-1"
    "OnTimer" "c_dodge_block_hurt1*,Kill,,0.06,-1"
    "OnTimer" "knightmare_dodge_block_human_hurt1*,Enable,,0.06,-1"
    "OnTimer" "knightmare_dodge_block_zombie_hurt1*,Enable,,0.06,-1"
}

add:
{
    "targetname" "knightmare_dodge_spawncase1"
    "classname" "logic_case"

    "OnCase01" "c_dodge_block_maker1,AddOutput,origin 460 4752 40,0,-1"
    "OnCase01" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase02" "c_dodge_block_maker1,AddOutput,origin 199 4752 40,0,-1"
    "OnCase02" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase03" "c_dodge_block_maker1,AddOutput,origin -57 4752 40,0,-1"
    "OnCase03" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase04" "c_dodge_block_maker1,AddOutput,origin -313 4752 40,0,-1"
    "OnCase04" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase05" "c_dodge_block_maker1,AddOutput,origin -568 4752 40,0,-1"
    "OnCase05" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase06" "c_dodge_block_maker1,AddOutput,origin 327 4752 40,0,-1"
    "OnCase06" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase07" "c_dodge_block_maker1,AddOutput,origin 71 4752 40,0,-1"
    "OnCase07" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase08" "c_dodge_block_maker1,AddOutput,origin -185 4752 40,0,-1"
    "OnCase08" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
    "OnCase09" "c_dodge_block_maker1,AddOutput,origin -441 4752 40,0,-1"
    "OnCase09" "c_dodge_block_maker1,ForceSpawn,,0.05,-1"
}

; CC changer
add:
{
    "targetname" "cc_changetimer1"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "3.5"
    "UpperRandomBound" "6"

    "OnTimer" "cc_red,Disable,,0,-1"
    "OnTimer" "cc_red,Enable,,2,-1"
}

; Knightmare D Final walls (they need to add new env_entity_maker since it should have faster than 2000 units)
add:
{
    "model" "*395"
    "origin" "-11768 -14216 -16005"
    "targetname" "knightmare_finalwall_move1"
    "classname" "func_door"
    "spawnflags" "4108"
    "speed" "1202"
    "movedir" "-90 0 0"
    "lip" "-1200"
    "wait" "-1"

    "OnFullyOpen" "knightmare_finalwall_movebase1,Open,,0,-1"
    "OnFullyOpen" "knightmare_finalwall_move2,Open,,0,-1"
    "OnFullyClosed" "!self,KillHierarchy,,0,-1"
    "OnUser1" "!self,Open,,0,1"
}

add:
{
    "model" "*177"
    "origin" "-11768 -14216 -16005"
    "targetname" "knightmare_finalwall_movebase1"
    "classname" "func_movelinear"
    "parentname" "knightmare_finalwall_move1"
    "spawnflags" "8"
    "speed" "2000"
    "movedir" "0 90 0"
    "movedistance" "9000"
    "blockdamage" "999999"

    "OnFullyOpen" "escape_finalwall_move2,Open,,0,-1"
}

add:
{
    "model" "*225"
    "origin" "-11768 -14216 -16005"
    "targetname" "knightmare_finalwall_move2"
    "classname" "func_door"
    "parentname" "knightmare_finalwall_movebase1"
    "spawnflags" "4108"
    "speed" "2000"
    "movedir" "0 90 0"
    "lip" "-9756"
    "wait" "-1"

    "OnFullyOpen" "knightmare_finalwall_move1,Close,,0,-1"
}

add:
{
    "model" "models/airmodel/ze_deadcore/cube2_256.mdl"
    "origin" "-11768 -14216 -16005"
    "angles" "0 180 0"
    "targetname" "knightmare_finalwall_prop1"
    "classname" "prop_dynamic"
    "parentname" "knightmare_finalwall_move2"
    "solid" "0"
}

add:
{
    "model" "*68"
    "origin" "-11768 -14216 -16684"
    "targetname" "knightmare_finalwall_hurt1"
    "classname" "trigger_hurt"
    "parentname" "knightmare_finalwall_brush1"
    "spawnflags" "3"
    "filtername" "human"
    "damage" "999999"
    "damagecap" "999999"
    "damagetype" "16384"
}

add:
{
    "model" "*310"
    "origin" "-11768 -14216 -16682"
    "targetname" "knightmare_finalwall_brush1"
    "classname" "func_door"
    "parentname" "knightmare_finalwall_move2"
    "spawnflags" "6156"
    "speed" "0"
    "rendermode" "2"
    "renderamt" "50"
    "disableshadows" "1"
    "disablereceiveshadows" "1"
    "wait" "4"

    "OnSpawn" "!self,AddOutput,angles 0 -90 0,0,-1"
}

add:
{
    "origin" "-11768 -14216 -15989"
    "targetname" "knightmare_finalwall_relay1"
    "classname" "logic_relay"

    "OnSpawn" "knightmare_finalwall_move1,FireUser1,,0,1"
    "OnSpawn" "knightmare_finalwall_brush1,AddOutput,angles 0 -90 0,0,-1"
    "OnSpawn" "!self,Kill,,0,1"
}

add:
{
    "origin" "-11768 -14216 -16005"
    "targetname" "knightmare_finalwall_temp1"
    "classname" "point_template"

    "Template01" "knightmare_finalwall_move1"
    "Template02" "knightmare_finalwall_movebase1"
    "Template03" "knightmare_finalwall_move2"
    "Template04" "knightmare_finalwall_prop1"
    "Template05" "knightmare_finalwall_hurt1"
    "Template06" "knightmare_finalwall_brush1"
    "Template07" "knightmare_finalwall_relay1"
}

add:
{
    "origin" "-604 4752 40"
    "targetname" "knightmare_finalwall_maker1"
    "classname" "env_entity_maker"
    "parentname" "knightmare_finalwall_spawnmove1"
    "EntityTemplate" "knightmare_finalwall_temp1"
}

add:
{
    "origin" "604 4752 40"
    "targetname" "knightmare_finalwall_maker2"
    "classname" "env_entity_maker"
    "parentname" "knightmare_finalwall_spawnmove2"
    "EntityTemplate" "knightmare_finalwall_temp1"
}

add:
{
    "origin" "-604 4752 40"
    "targetname" "knightmare_finalwall_maker3"
    "classname" "env_entity_maker"
    "parentname" "knightmare_finalwall_spawnmove3"
    "EntityTemplate" "knightmare_finalwall_temp1"
}

add:
{
    "origin" "604 4752 40"
    "targetname" "knightmare_finalwall_maker4"
    "classname" "env_entity_maker"
    "parentname" "knightmare_finalwall_spawnmove4"
    "EntityTemplate" "knightmare_finalwall_temp1"
}

add:
{
    "model" "*177"
    "origin" "-604 4752 40"
    "targetname" "knightmare_finalwall_spawnmove1"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "1200"
    "movedir" "0 0 0"

    "OnFullyOpen" "!self,Close,,0,-1"
    "OnFullyClosed" "!self,Open,,0,-1"
}

add:
{
    "model" "*177"
    "origin" "604 4752 40"
    "targetname" "knightmare_finalwall_spawnmove2"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "2000"
    "movedistance" "1200"
    "movedir" "0 180 0"

    "OnFullyOpen" "!self,Close,,0,-1"
    "OnFullyClosed" "!self,Open,,0,-1"
}

add:
{
    "model" "*177"
    "origin" "-604 4752 40"
    "targetname" "knightmare_finalwall_spawnmove3"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "1200"
    "movedistance" "1200"
    "movedir" "0 0 0"

    "OnFullyOpen" "!self,Close,,0,-1"
    "OnFullyClosed" "!self,Open,,0,-1"
}

add:
{
    "model" "*177"
    "origin" "604 4752 40"
    "targetname" "knightmare_finalwall_spawnmove4"
    "classname" "func_movelinear"
    "spawnflags" "8"
    "speed" "1200"
    "movedistance" "1200"
    "movedir" "0 180 0"

    "OnFullyOpen" "!self,Close,,0,-1"
    "OnFullyClosed" "!self,Open,,0,-1"
}

add:
{
    "origin" "-441 4752 40"
    "targetname" "knightmare_finalwall_timer1"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "0.2"
    "UpperRandomBound" "0.25"

    "OnTimer" "knightmare_finalwall_maker1,ForceSpawn,,0,-1"
}

add:
{
    "origin" "-441 4752 40"
    "targetname" "knightmare_finalwall_timer2"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "0.2"
    "UpperRandomBound" "0.25"

    "OnTimer" "knightmare_finalwall_maker2,ForceSpawn,,0,-1"
}

add:
{
    "origin" "-441 4752 40"
    "targetname" "knightmare_finalwall_timer3"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "0.3"
    "UpperRandomBound" "0.4"

    "OnTimer" "knightmare_finalwall_maker3,ForceSpawn,,0.1,-1"
}

add:
{
    "origin" "-441 4752 40"
    "targetname" "knightmare_finalwall_timer4"
    "classname" "logic_timer"
    "StartDisabled" "1"
    "UseRandomTime" "1"
    "LowerRandomBound" "0.3"
    "UpperRandomBound" "0.4"

    "OnTimer" "knightmare_finalwall_maker4,ForceSpawn,,0.1,-1"
}

add:
{
	"targetname" "practice_relay"
	"classname" "logic_relay"
	
	"OnTrigger" "escape_common_relay,Trigger,,0,-1"
	"OnTrigger" "server,Command,host_timescale 5,0,1"
	"OnTrigger" "server,Command,host_timescale 1,46,1"
	"OnTrigger" "server,Command,sm_freeze @all 46,0,1"
	"OnTrigger" "player,AddOutput,origin -14 4026 220,0,1"	
}

; [Insane D] % 开局自动INSANE关卡
modify:
{
	match:
	{
		"hammerid" "3610618"
		"targetname" "level_counter"
	}
	replace:
	{
		"max" "16"
		"startvalue" "8"
	}
}

modify:
{
	match:
	{
		"hammerid" "3610663"
		"targetname" "stage_d_ex_relay"
	}
	delete:
	{
		"OnTrigger" "server,Command,say *** D INSANE MODE ENABLED ***,1,1"
	}
	insert:
	{
		"OnTrigger" "server,Command,say *** INSANE D 已启动 ***,1,1"
		"OnTrigger" "practice_relay,Trigger,,1.02,1"
	}
}

modify:
{
	match:
	{
		"hammerid" "3610661"
		"targetname" "stage_d_relay"
	}
	insert:
	{
		"OnTrigger" "server,Command,say *** Normal D 已启动 ***,1,1"
		"OnTrigger" "practice_relay,Trigger,,1.02,1"
	}
}

; [0.7 D]
add:
{
    "model" "*19"
    "origin" "-14800 -14632 -16156"
    "targetname" "admin_button_ex_d_0.7"
    "classname" "func_button"
    "spawnflags" "3072"
    "speed" "20"
    "movedir" "90 0 0"

    "OnIn" "server,Command,say *** 管理员开启了 0.7 D ***,0,-1"
    "OnIn" "!self,Lock,,0,-1"
    "OnIn" "admin_button_ex_d,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_champion,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_knightmare,Lock,,0,-1"
    "OnIn" "admin_button_ex_d_off,Unlock,,0,-1"
    "OnIn" "admin_button_ex_d_off,PressOut,,0.1,-1"
    "OnIn" "level_stock,AddOutput,OnUser1 level_counter:SetValue:12:0.06:1,0.02,-1"
}

add:
{
    "origin" "-14616 -14904 -16184"
    "targetname" "stage_d_0.7_relay"
    "classname" "logic_relay"

    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "music_d_ex_escape,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_ex,FireUser1,,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_vocal:PlaySound::1:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:0.7:51.01:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_finallaser_case1:PickRandom::110.7:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger !self:FireUser3::119.98:-1,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - 0.7 D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 255 0 0,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 255 0 0,0,-1"
    "OnTrigger" "stage_text,FireUser1,,5.01,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
}

filter:
{
    "classname" "logic_case" 
    "targetname" "Level_Case"
}

modify:
{  
    match:
    {
		"classname" "logic_auto"             
    }
    insert:
    {
		"OnMapSpawn" "playerAddOutputorigin -194 4070 3470-1"
		"OnMapSpawn" "b_temp*ForceSpawn0-1"
		"OnMapSpawn" "c_temp*ForceSpawn0-1"
		"OnMapSpawn" "d_tempForceSpawn0-1"
		
		
    }
}

add:
{
	"textsize" "10"        
	"origin" "-400 4400 225"
	"targetname" "tt_escape_b"
	"message" "Stage ->"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

//Stage B
add:
{
	"textsize" "10"        
	"origin" "-300 4400 225"
	"targetname" "tt_escape_b"
	"message" "B"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-300 4400 175"
	"targetname" "button_escape_b"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "tt*Kill0-1"
	"OnPressed" "button*Kill0-1"
	"OnPressed" "b_boss_counter1Subtract9990-1" 
	"OnPressed" "playerAddOutputorigin -10009 -1272 38000-1"
	"OnPressed" "Level_TextAddOutputmessage > STAGE - B <0-1"
	"OnPressed" "Level_TextFireUser10.1-1"
	"OnPressed" "serverCommandhost_timescale 51-1"
	"OnPressed" "serverCommandhost_timescale 165-1"
	"OnPressed" "serverCommandsm_freeze @all 650-1" 
	"OnPressed" "playerAddOutputorigin -11262 -1270 3750125-1"
	"OnPressed" "b_escape_push1Disable125-1"
}

//Stage C
add:
{
	"textsize" "10"        
	"origin" "-250 4400 225"
	"targetname" "tt_escape_c"
	"message" "C"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-250 4400 175"
	"targetname" "button_escape_c"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "tt*Kill0-1"
	"OnPressed" "button*Kill0-1"
	"OnPressed" "c_escape_relay1Trigger0-1" 
	"OnPressed" "playerAddOutputorigin 10770 12232 38000-1"  
	"OnPressed" "playerAddOutputorigin -10230 6300 5500225-1" 
	"OnPressed" "Level_TextAddOutputmessage > STAGE - C <0-1"
	"OnPressed" "Level_TextFireUser10.1-1"   
	"OnPressed" "serverCommandhost_timescale 51-1"
	"OnPressed" "serverCommandhost_timescale 159-1"
	"OnPressed" "serverCommandsm_freeze @all 590-1"   
	"OnPressed" "c_nukeEnable225-1"
}

add:
{
	"textsize" "10"        
	"origin" "-400 4300 215"
	"targetname" "tt_escape_b"
	"message" "Stage D ->"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

//Normal
add:
{
	"textsize" "10"        
	"origin" "-300 4300 215"
	"targetname" "tt_normal_D"
	"message" "Normal"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-300 4300 175"
	"targetname" "button_normal_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

//Insane
add:
{
	"textsize" "10"        
	"origin" "-250 4300 215"
	"targetname" "tt_insane_D"
	"message" "Insane"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-250 4300 175"
	"targetname" "button_insane_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_ex_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

//Champion
add:
{
	"textsize" "10"        
	"origin" "-200 4300 215"
	"targetname" "tt_champion_D"
	"message" "Champ"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-200 4300 175"
	"targetname" "button_champion_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_champion_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

//Hell
add:
{
	"textsize" "10"        
	"origin" "-150 4300 215"
	"targetname" "tt_hell_D"
	"message" "Hell"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-150 4300 175"
	"targetname" "button_hell_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_hell_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

//Knightmare
add:
{
	"textsize" "10"        
	"origin" "-100 4300 215"
	"targetname" "tt_knightmare_D"
	"message" "Knight"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}

add:
{
	"origin" "-100 4300 175"
	"targetname" "button_knightmare_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_knightmare_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

add:
{
	"textsize" "10"        
	"origin" "20 4050 205"
	"targetname" "tt_escape_b"
	"message" "NC D ->"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}

//0.55
add:
{
	"textsize" "10"        
	"origin" "-50 4050 205"
	"targetname" "tt_0.55_D"
	"message" "0.55"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}

add:
{
	"origin" "-50 4050 175"
	"targetname" "button_0.55_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_0.7_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
	"OnPressed" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:0.55:51.05:-1,1,1"
    "OnPressed" "stage_text,AddOutput,message > Stage - 0.55 D <,0.05,-1"
}

//0.6
add:
{
	"textsize" "10"        
	"origin" "-100 4050 205"
	"targetname" "tt_0.6_D"
	"message" "0.6"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}

add:
{
	"origin" "-100 4050 175"
	"targetname" "button_0.6_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_0.7_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
	"OnPressed" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:0.6:51.05:-1,1,1"
    "OnPressed" "stage_text,AddOutput,message > Stage - 0.6 D <,0.05,-1"
}

//0.65
add:
{
	"textsize" "10"        
	"origin" "-150 4050 205"
	"targetname" "tt_0.65_D"
	"message" "0.65"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}

add:
{
	"origin" "-150 4050 175"
	"targetname" "button_0.65_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_0.7_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
	"OnPressed" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:RefireTime:0.65:51.05:-1,1,1"
    "OnPressed" "stage_text,AddOutput,message > Stage - 0.65 D <,0.05,-1"
}

//0.7
add:
{
	"textsize" "10"        
	"origin" "-200 4050 205"
	"targetname" "tt_0.7_D"
	"message" "0.7"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}

add:
{
	"origin" "-200 4050 175"
	"targetname" "button_0.7_D"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_0.7_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}

add:
{
	"textsize" "10"        
	"origin" "-570 4000 195"
	"message" "CC ->"
	"classname" "point_worldtext"
	"angles" "0 180 0"
}

//Red CC On
add:
{
	"textsize" "10"        
	"origin" "-570 4100 195"
	"message" "Red On"
	"classname" "point_worldtext"
	"angles" "0 180 0"
}

add:
{
	"origin" "-570 4100 175"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "invertEnable0-1"
    "OnPressed" "cc_redEnable0-1"
}

//Red CC Off
add:
{
	"textsize" "10"        
	"origin" "-570 4200 195"
	"message" "Red Off"
	"classname" "point_worldtext"
	"angles" "0 180 0"
}

add:
{
	"origin" "-570 4200 175"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "invertDisable0-1"
    "OnPressed" "cc_redDisable0-1"
}

//Knightmare CC On
add:
{
	"textsize" "10"        
	"origin" "-570 4300 195"
	"message" "Knightmare On"
	"classname" "point_worldtext"
	"angles" "0 180 0"
}

add:
{
	"origin" "-570 4300 175"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "cc_knightmareEnable0-1"
}

//Knightmare CC Off
add:
{
	"textsize" "10"        
	"origin" "-570 4400 195"
	"message" "Knightmare Off"
	"classname" "point_worldtext"
	"angles" "0 180 0"
}

add:
{
	"origin" "-570 4400 175"
	"classname" "func_button"
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "cc_knightmareDisable0-1"
}
;按钮
add:
{
	"textsize" "10"        
	"origin" "-250 4050 205"
	"targetname" "tt_random_alpha_D"
	"message" "Alpha"
	"classname" "point_worldtext"
	"angles" "0 -90 0"
}
add:
{
	"origin" "-250 4050 175"
	"targetname" "button_random_alpha_D"
	"classname" "func_button"                                
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_random_alpha_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}
add:
{
	"textsize" "10"        
	"origin" "-50 4300 215"
	"targetname" "tt_random_heaven_D"
	"message" "Heaven"
	"classname" "point_worldtext"
	"angles" "0 90 0"
}
add:
{
	"origin" "-50 4300 175"
	"targetname" "button_random_heaven_D"
	"classname" "func_button"                                
	"spawnflags" "1057"
	"speed" "5"
	"movedir" " 0 0 0"
	
	"OnPressed" "button*Kill0-1"
	"OnPressed" "stage_d_random_heaven_relayTrigger0-1"
	"OnPressed" "tt*Kill0-1"
}
;音乐  
;学会再加
;Random D ALPHA
add:
{
    "targetname" "stage_d_random_alpha_relay"
    "classname" "logic_relay"
    
    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "music_d_ex_escape,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_ex,FireUser1,,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_ex_escape_vocal:PlaySound::1:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:LowerRandomBound:0.6"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:UpperRandomBound:1.5"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:UseRandomTime:1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_finallaser_case1:PickRandom::110.7:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger !self:FireUser3::119.98:-1,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - Alpha D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 127 255 212,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 127 255 212,0,-1"
    "OnTrigger" "stage_text,FireUser1,,0,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
}
;Random D HEAVEN
add:
{
    "targetname" "stage_d_random_heaven_relay"
    "classname" "logic_relay"
    
    "OnTrigger" "postpro,SetLocalContrastStrength,1,0,1"
    "OnTrigger" "postpro,SetLocalContrastEdgeStrength,1,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color 255 0 0,0,1"
    "OnTrigger" "gametxt_*,AddOutput,color2 255 0 0,0,1"
    "OnTrigger" "music_case1,Kill,,0,1"
    "OnTrigger" "music_d_ex_way,PlaySound,,2,1"
    "OnTrigger" "admin_button_a,Lock,,0,1"
    "OnTrigger" "admin_button_b,Lock,,0,1"
    "OnTrigger" "admin_button_c,Lock,,0,1"
    "OnTrigger" "d_temp,ForceSpawn,,0,1"
    "OnTrigger" "d_relay,Disable,,0,1"
    "OnTrigger" "d_relay1,CancelPending,,0.01,1"
    "OnTrigger" "d_skybox_particle,Start,,0,1"
    "OnTrigger" "radiation_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay1,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay2,Disable,,1,1"
    "OnTrigger" "radiation_attackrelay3,Disable,,1,1"
    "OnTrigger" "radiation_attackchangecounter*,Kill,,1,1"
    "OnTrigger" "music_d_ex_escape,Kill,,1,1"
    "OnTrigger" "escape_press_relay,Kill,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,Disable,,1,1"
    "OnTrigger" "radiation_ex_startrelay1,FireUser1,,3,1"
    "OnTrigger" "radiation_attackrelay4,Enable,,1,1"
    "OnTrigger" "radiation_hugemeteor_relay1,Enable,,1,1"
    "OnTrigger" "escape_relay_ex,FireUser1,,1,1"
    ;"OnTrigger" "music_d_escape,AddOutput,message music/ze_deadcore/music_white_escape.mp3,0,1" 
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger music_d_escape:PlaySound::1:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:LowerRandomBound:1.2"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:UpperRandomBound:2.1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_laser_timer1:UseRandomTime:1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger escape_finallaser_case1:PickRandom::110.7:-1,1,1"
    "OnTrigger" "escape_relay_ex,AddOutput,OnTrigger !self:FireUser3::119.98:-1,1,1"
    "OnTrigger" "stage_text,AddOutput,message > Stage - Heaven D <,0,-1"
    "OnTrigger" "stage_text,AddOutput,color 127 255 212,0,-1"
    "OnTrigger" "stage_text,AddOutput,color2 127 255 212,0,-1"
    "OnTrigger" "stage_text,FireUser1,,0,-1"
	"OnTrigger" "practice_relay,Trigger,,1.02,1"
    "OnTrigger" "cc_red,Kill,,1,1"
    "OnTrigger" "invert,Kill,,1,1"
}
